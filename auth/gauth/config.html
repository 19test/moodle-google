<?php
/**
 * @author Piers Harding
 * @license http://www.gnu.org/copyleft/gpl.html GNU Public License
 * @package auth/gauth
 *
 * Authentication Plugin: Google OpenId based SSO Authentication
 *
 * 2011-10  Created
 **/

    global $CFG;

    // Set to defaults if undefined
    if (!isset ($config->username)) {
        $config->username = 'openid';
    }
    if (!isset ($config->userfield)) {
        $config->userfield = 'idnumber';
    }
    if (!isset ($config->casesensitive)) {
        $config->casesensitive = true;
    }
    if (!isset ($config->createusers)) {
        $config->createusers = '';
    }
    if (!isset ($config->duallogin)) {
        $config->duallogin = '';
    }
?>
<table cellspacing="0" cellpadding="5" border="0">
<tr valign="top" class="required">
    <td align="right"><?php print_string("auth_gauth_username", "auth_gauth"); ?>:</td>
    <td>
        <input name="username" type="text" size="30" value="<?php echo $config->username; ?>" />
    </td>
    <td><?php print_string("auth_gauth_username_description", "auth_gauth"); ?></td>
</tr>
<tr valign="top" class="required">
    <td align="right"><?php print_string("auth_gauth_userfield", "auth_gauth"); ?>:</td>
    <td>
        <input name="userfield" type="text" size="30" value="<?php echo $config->userfield; ?>" />
    </td>
    <td><?php print_string("auth_gauth_userfield_description", "auth_gauth"); ?></td>
</tr>

<tr valign="top">
    <td align="right"><?php print_string("auth_gauth_casesensitive", "auth_gauth"); ?>:</td>
    <td>
        <input name="casesensitive" type="checkbox" <?php if($config->casesensitive) echo "CHECKED"; ?> />
    </td>
    <td><?php print_string("auth_gauth_casesensitive_description", "auth_gauth"); ?></td>
</tr>

<tr valign="top">
    <td align="right"><?php print_string("auth_gauth_createusers", "auth_gauth"); ?>:</td>
    <td>
        <input name="createusers" type="checkbox" <?php if($config->createusers) echo "CHECKED"; ?> />
    </td>
    <td><?php print_string("auth_gauth_createusers_description", "auth_gauth"); ?></td>
</tr>

<tr valign="top">
    <td align="right"><?php print_string("auth_gauth_duallogin", "auth_gauth"); ?>:</td>
    <td>
        <input name="duallogin" type="checkbox" <?php if($config->duallogin) echo "CHECKED"; ?> />
    </td>
    <td><?php print_string("auth_gauth_duallogin_description", "auth_gauth"); ?></td>
</tr>

<?php

print_auth_lock_options('gauth', $user_fields, get_string("auth_gauth_field_instructions", "auth_gauth"), true, false);

?>
</table>
